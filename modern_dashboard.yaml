background: center / cover no-repeat url("/local/fond_tablette.webp") fixed
theme: alforis-tablette
device_preference: desktop
button_card_templates:
  nav-button:
    size: 100%
    show_state: false
    show_name: true
    show_icon: true
    styles:
      card:
        - background: rgba(var(--rgb-card-background-color), 0.9)
        - backdrop-filter: blur(15px)
        - border: 1px solid rgba(var(--rgb-primary-color), 0.2)
        - border-radius: 20px
        - padding: 20px
        - margin: 8px 0
        - transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1)
        - box-shadow: 0 4px 16px rgba(0,0,0,0.1)
        - min-height: 80px
      icon:
        - width: 36px
        - height: 36px
        - color: var(--primary-color)
        - margin-bottom: 12px
        - filter: drop-shadow(0 2px 4px rgba(0,0,0,0.2))
      name:
        - font-size: 15px
        - font-weight: 600
        - color: var(--primary-text-color)
        - text-align: center
        - line-height: 1.3
    tap_action:
      haptic: medium
    hold_action:
      action: more-info
      haptic: heavy
    state:
      - operator: template
        value: true
        styles:
          card:
            - background: rgba(var(--rgb-primary-color), 0.15)
            - border: 2px solid rgba(var(--rgb-primary-color), 0.4)
            - transform: translateY(-2px)
            - box-shadow: 0 8px 24px rgba(var(--rgb-primary-color), 0.2)
  scenario-button:
    size: 100%
    show_state: false
    show_name: true
    show_icon: true
    aspect_ratio: 1.2/1
    styles:
      card:
        - border-radius: 24px
        - padding: 20px
        - backdrop-filter: blur(15px)
        - border: 2px solid transparent
        - transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1)
        - box-shadow: 0 6px 20px rgba(0,0,0,0.15)
        - position: relative
        - overflow: hidden
      icon:
        - width: 40px
        - height: 40px
        - margin-bottom: 16px
        - filter: drop-shadow(0 0 8px rgba(255,255,255,0.3))
      name:
        - font-size: 16px
        - font-weight: 700
        - color: white
        - text-shadow: 0 2px 4px rgba(0,0,0,0.5)
        - letter-spacing: 0.5px
    tap_action:
      haptic: success
    state:
      - operator: template
        value: true
        styles:
          card:
            - transform: scale(0.95)
            - filter: brightness(1.1)
views:
  - title: Accueil
    path: accueil
    icon: mdi:home-assistant
    device_preference: desktop
    background:
      image: /local/fond_tablette.webp
      size: cover
      alignment: center
      repeat: no-repeat
      attachment: fixed
    layout:
      type: custom:grid-layout
      columns: 2
      rows: 2
      grid-gap: 24px
      height: 100vh
      justify-content: center
      align-content: center
      mediaquery:
        '(max-width: 900px)':
          columns: 1
    cards:
      - type: custom:mod-card
        style:
          card:
            - position: sticky
            - top: 8px
            - z-index: 1000
            - background: rgba(var(--rgb-card-background-color), 0.95)
            - backdrop-filter: blur(20px)
            - padding: 20px 32px
            - margin: 0 20px 32px
            - border-radius: 28px
            - box-shadow: 0 8px 32px rgba(0,0,0,0.15)
            - border: 1px solid rgba(var(--rgb-primary-color), 0.1)
        card:
          type: horizontal-stack
          cards:
            - type: markdown
              content: >
                ## ðŸ  Bonjour {{ user }}

                *{{ now().strftime('%A %d %B %Y') }} - Maison connectÃ©e*


                **ðŸŒ¡ï¸ {{ states('sensor.temp_salon') }}Â°C** â€¢ **âš¡ {{
                states('sensor.consommation_electrique') }}W**
              card_mod:
                style: |
                  ha-card {
                    background: transparent;
                    box-shadow: none;
                    padding: 0;
                    flex: 1;
                  }
                  .card-content {
                    padding: 0 !important;
                  }
                  h2 {
                    margin: 0 0 8px 0;
                    font-size: 24px;
                    background: linear-gradient(45deg, var(--primary-color), var(--accent-color));
                    -webkit-background-clip: text;
                    -webkit-text-fill-color: transparent;
                  }
                  em {
                    font-size: 14px;
                    color: var(--secondary-text-color);
                    display: block;
                    margin-bottom: 8px;
                  }
                  strong {
                    font-size: 13px;
                    color: var(--accent-color);
                  }
            - type: custom:button-card
              icon: mdi:cog
              size: 40px
              show_name: false
              tap_action:
                action: navigate
                navigation_path: /config/dashboard
              styles:
                card:
                  - background: rgba(var(--rgb-primary-color), 0.1)
                  - border-radius: 16px
                  - width: 56px
                  - height: 56px
                  - margin-left: 16px
                icon:
                  - color: var(--primary-color)
      - type: grid
        columns: 2
        square: false
        card_mod:
          style: |
            .card-content {
              padding: 0 20px;
              gap: 24px;
            }
        cards:
          - type: vertical-stack
            card_mod:
              style: |
                .card-content {
                  padding: 0;
                  gap: 16px;
                }
            cards:
              - type: weather-forecast
                entity: weather.home
                show_current: true
                show_forecast: true
                forecast_type: hourly
                card_mod:
                  style: |
                    ha-card {
                      border-radius: 28px;
                      backdrop-filter: blur(20px);
                      background: linear-gradient(135deg, 
                        rgba(66, 165, 245, 0.2), 
                        rgba(33, 150, 243, 0.1));
                      border: 2px solid rgba(66, 165, 245, 0.3);
                      padding: 24px;
                      box-shadow: 0 8px 32px rgba(66, 165, 245, 0.2);
                      overflow: hidden;
                      position: relative;
                    }
                    .card-header {
                      background: rgba(66, 165, 245, 0.1);
                      border-radius: 16px;
                      margin-bottom: 16px;
                      padding: 12px 16px;
                      font-weight: 600;
                    }
              - type: entities
                title: ðŸŒ¡ï¸ Climat intÃ©rieur
                show_header_toggle: false
                card_mod:
                  style: |
                    ha-card {
                      border-radius: 28px;
                      backdrop-filter: blur(20px);
                      background: rgba(var(--rgb-card-background-color), 0.85);
                      border: 1px solid rgba(var(--rgb-accent-color), 0.2);
                      box-shadow: 0 6px 24px rgba(0,0,0,0.1);
                    }
                    .card-header {
                      background: linear-gradient(90deg, var(--accent-color), var(--primary-color));
                      -webkit-background-clip: text;
                      -webkit-text-fill-color: transparent;
                      font-weight: 700;
                      font-size: 18px;
                    }
                entities:
                  - entity: climate.rdc
                    name: ðŸ  Thermostat RDC
                    secondary_info: last-changed
                  - entity: sensor.temp_salon
                    name: ðŸ›‹ï¸ Salon
                    secondary_info: last-changed
                  - entity: sensor.temp_chambre
                    name: ðŸ›ï¸ Chambre
                    secondary_info: last-changed
                  - entity: sensor.humidity_salon
                    name: ðŸ’§ HumiditÃ© salon
          - type: custom:mod-card
            card_mod:
              style: |
                .card-content {
                  padding: 24px;
                  background: rgba(var(--rgb-card-background-color), 0.85);
                  backdrop-filter: blur(20px);
                  border-radius: 28px;
                  border: 1px solid rgba(var(--rgb-primary-color), 0.15);
                  box-shadow: 0 8px 32px rgba(0,0,0,0.1);
                }
            card:
              type: vertical-stack
              cards:
                - type: markdown
                  content: |
                    ### ðŸ  Navigation par piÃ¨ce
                  card_mod:
                    style: |
                      ha-card {
                        background: transparent;
                        box-shadow: none;
                        padding: 0 0 16px 0;
                      }
                      h3 {
                        margin: 0;
                        background: linear-gradient(90deg, var(--primary-color), var(--accent-color));
                        -webkit-background-clip: text;
                        -webkit-text-fill-color: transparent;
                        font-weight: 700;
                        font-size: 20px;
                      }
                - type: grid
                  columns: 1
                  cards:
                    - type: custom:button-card
                      template: nav-button
                      name: ðŸ  Rez-de-chaussÃ©e
                      icon: mdi:home-floor-0
                      tap_action:
                        action: navigate
                        navigation_path: /lovelace/rdc
                    - type: custom:button-card
                      template: nav-button
                      name: ðŸ  1er Ã©tage
                      icon: mdi:home-floor-1
                      tap_action:
                        action: navigate
                        navigation_path: /lovelace/etage1
                    - type: custom:button-card
                      template: nav-button
                      name: ðŸ  2e Ã©tage
                      icon: mdi:home-floor-2
                      tap_action:
                        action: navigate
                        navigation_path: /lovelace/etage2
          - type: custom:mod-card
            card_mod:
              style: |
                .card-content {
                  padding: 24px;
                  background: rgba(var(--rgb-card-background-color), 0.85);
                  backdrop-filter: blur(20px);
                  border-radius: 28px;
                  border: 1px solid rgba(var(--rgb-accent-color), 0.15);
                  box-shadow: 0 8px 32px rgba(0,0,0,0.1);
                }
            card:
              type: vertical-stack
              cards:
                - type: markdown
                  content: |
                    ### ðŸ§° Navigation par matÃ©riel
                  card_mod:
                    style: |
                      ha-card {
                        background: transparent;
                        box-shadow: none;
                        padding: 0 0 16px 0;
                      }
                      h3 {
                        margin: 0;
                        background: linear-gradient(90deg, var(--accent-color), var(--primary-color));
                        -webkit-background-clip: text;
                        -webkit-text-fill-color: transparent;
                        font-weight: 700;
                        font-size: 20px;
                      }
                - type: grid
                  columns: 1
                  cards:
                    - type: custom:button-card
                      template: nav-button
                      name: ðŸªŸ Volets roulants
                      icon: mdi:window-shutter
                      tap_action:
                        action: navigate
                        navigation_path: /lovelace/volets
                    - type: custom:button-card
                      template: nav-button
                      name: â„ï¸ Airzone
                      icon: mdi:air-filter
                      tap_action:
                        action: navigate
                        navigation_path: /lovelace/clim
                    - type: custom:button-card
                      template: nav-button
                      name: ðŸ’¡ Ã‰clairage
                      icon: mdi:lightbulb-group
                      tap_action:
                        action: navigate
                        navigation_path: /lovelace/lumieres
                    - type: custom:button-card
                      template: nav-button
                      name: ðŸ”Œ Prises & Interrupteurs
                      icon: mdi:power-socket-eu
                      tap_action:
                        action: navigate
                        navigation_path: /lovelace/prises
          - type: custom:mod-card
            card_mod:
              style: |
                .card-content {
                  padding: 24px;
                  background: rgba(var(--rgb-card-background-color), 0.85);
                  backdrop-filter: blur(20px);
                  border-radius: 28px;
                  border: 1px solid rgba(var(--rgb-secondary-color), 0.15);
                  box-shadow: 0 8px 32px rgba(0,0,0,0.1);
                }
            card:
              type: vertical-stack
              cards:
                - type: markdown
                  content: |
                    ### ðŸŽ¬ ScÃ©narios rapides
                  card_mod:
                    style: |
                      ha-card {
                        background: transparent;
                        box-shadow: none;
                        padding: 0 0 16px 0;
                      }
                      h3 {
                        margin: 0;
                        background: linear-gradient(90deg, var(--secondary-color), var(--accent-color));
                        -webkit-background-clip: text;
                        -webkit-text-fill-color: transparent;
                        font-weight: 700;
                        font-size: 20px;
                      }
                - type: grid
                  columns: 2
                  cards:
                    - type: custom:button-card
                      template: scenario-button
                      name: ðŸŒ… RÃ©veil
                      icon: mdi:weather-sunny
                      tap_action:
                        action: call-service
                        service: script.scenario_reveil
                        confirmation:
                          text: Lancer le scÃ©nario rÃ©veil ?
                      styles:
                        card:
                          - background: >-
                              linear-gradient(135deg, rgba(255, 193, 7, 0.4),
                              rgba(255, 152, 0, 0.3))
                          - border: 2px solid rgba(255, 193, 7, 0.5)
                        icon:
                          - color: rgba(255, 193, 7, 0.9)
                    - type: custom:button-card
                      template: scenario-button
                      name: ðŸŒ™ Coucher
                      icon: mdi:weather-night
                      tap_action:
                        action: call-service
                        service: script.scenario_coucher
                        confirmation:
                          text: Lancer le scÃ©nario coucher ?
                      styles:
                        card:
                          - background: >-
                              linear-gradient(135deg, rgba(63, 81, 181, 0.4),
                              rgba(103, 58, 183, 0.3))
                          - border: 2px solid rgba(63, 81, 181, 0.5)
                        icon:
                          - color: rgba(63, 81, 181, 0.9)
                    - type: custom:button-card
                      template: scenario-button
                      name: ðŸ  Absent
                      icon: mdi:home-export-outline
                      tap_action:
                        action: call-service
                        service: script.scenario_absent
                        confirmation:
                          text: Activer le mode absent ?
                      styles:
                        card:
                          - background: >-
                              linear-gradient(135deg, rgba(244, 67, 54, 0.4),
                              rgba(233, 30, 99, 0.3))
                          - border: 2px solid rgba(244, 67, 54, 0.5)
                        icon:
                          - color: rgba(244, 67, 54, 0.9)
                    - type: custom:button-card
                      template: scenario-button
                      name: ðŸŽ‰ FÃªte
                      icon: mdi:party-popper
                      tap_action:
                        action: call-service
                        service: script.scenario_fete
                        confirmation:
                          text: Lancer le mode fÃªte ?
                      styles:
                        card:
                          - background: >-
                              linear-gradient(135deg, rgba(156, 39, 176, 0.4),
                              rgba(233, 30, 99, 0.3))
                          - border: 2px solid rgba(156, 39, 176, 0.5)
                        icon:
                          - color: rgba(156, 39, 176, 0.9)
